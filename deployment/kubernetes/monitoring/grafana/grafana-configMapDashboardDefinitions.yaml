apiVersion: v1
items:
- apiVersion: v1
  data:
    k8s-pgmon-cadvisor-brief.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "",
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "id": 1,
        "iteration": 1547643800335,
        "links": [],
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "container_cpu_usage_seconds_total -总和。在Kubernetes 1.9之前，会报告所有节点中的每个CPU。这在1.1.0中发生了变化",
            "fill": 0,
            "gridPos": {
              "h": 8,
              "w": 14,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "hideEmpty": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 0,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\"}[$Interval])) by (container_name,pod_name)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "pod : {{ pod_name }} {{ container_name }}",
                "refId": "A"
              },
              {
                "expr": "sum(rate(container_cpu_usage_seconds_total{image!=\"\",name=~\"k8s_.*\",pod_name=~\"^k8s-.*\"}[$Interval])) by (container_name,pod_name)",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "k8s:  {{ pod_name }} {{ container_name }}",
                "refId": "B"
              },
              {
                "expr": "rate(container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",image=~\"k8s.*\"}[$Interval])",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "k8s:  {{ pod_name }} {{ container_name }}",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "容器正在使用的核心数",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "与CPU极限计算饱和,随着定义了CPU使用率的上限。当容器超过其CPU限制时，Linux运行时将“限制”容器并记录它在系列中受限制的时间container_cpu_cfs_throttled_seconds_total。这是一个计数器再次跟踪每个容器，所以采取rate",
            "fill": 1,
            "gridPos": {
              "h": 6,
              "w": 14,
              "x": 0,
              "y": 8
            },
            "id": 4,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum (rate(container_cpu_cfs_throttled_seconds_total{image!=\"\"}[$Interval]))\r\nby (container_name,pod_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "pod : {{ pod_name }} {{ container_name }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "容器CPU受限时间",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "我们需要排除名称中包含“POD”的容器。这是此容器的父cgroup，将跟踪窗格中所有容器的统计信息。\n\n你可能认为可以轻松跟踪内存利用率container_memory_usage_bytes，但是，此度量标准还包括可以在内存压力下逐出的缓存（思考文件系统缓存）项。更好的衡量标准是container_memory_working_set_bytes因为这是OOM正在关注的内容。",
            "fill": 0,
            "gridPos": {
              "h": 9,
              "w": 19,
              "x": 0,
              "y": 14
            },
            "id": 6,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": null,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate\n(container_memory_working_set_bytes{name!~\"POD\",container_name!=\"POD\",image!=\"\"}[$Interval]))\nby (name,container_name,pod_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name }} {{ container_name }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "内存利用率",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "在这里，我们必须加入两个系列，一个来自cAdvisor，另一个来自kube-state-metrics。不幸的是，容器名称标签没有对齐，但PromQL对此有帮助label_join",
            "fill": 0,
            "gridPos": {
              "h": 7,
              "w": 16,
              "x": 0,
              "y": 23
            },
            "id": 8,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum\r\n(container_memory_working_set_bytes{image!=\"\",container_name!=\"POD\"}) by (container_name) / \r\nsum\r\n(label_join(kube_pod_container_resource_limits_memory_bytes,\"container_name\", \"\", \"container\")) \r\nby (container_name,pod_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ container_name }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "内存饱和度",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 0,
            "gridPos": {
              "h": 9,
              "w": 17,
              "x": 0,
              "y": 30
            },
            "id": 10,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideEmpty": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_fs_writes_bytes_total[5m])) by (container_name,device)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ container_name }}  writes",
                "refId": "A"
              },
              {
                "expr": "sum(rate(container_fs_reads_bytes_total[5m])) by (container_name,device)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ container_name }}  reads",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "磁盘I/O利用率",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "decimals": null,
            "description": "容器级别的网络利用率，您可以选择以字节为单位测量，也可以选择发送和接收的数据包。这个查询有点不同，因为所有网络会计都发生在Pod级别，而不是容器！",
            "fill": 0,
            "gridPos": {
              "h": 11,
              "w": 20,
              "x": 0,
              "y": 39
            },
            "id": 12,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideEmpty": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\"}[5m])) by (container_name,pod_name)",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{ name }}",
                "refId": "A"
              },
              {
                "expr": "sum(rate(container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\"}[5m])) by (pod_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name}} ",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pod 接受的网络字节数",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 11,
              "w": 19,
              "x": 0,
              "y": 50
            },
            "id": 14,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "hideEmpty": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_network_transmit_bytes_total[5m])) by (name)",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{ name }}",
                "refId": "A"
              },
              {
                "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\"}[$Interval])) by (pod_name)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name }}",
                "refId": "B"
              },
              {
                "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\"}[$Interval])) by (pod_name)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name }}",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pod 累计的网络字节数",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "Cumulative count of packets dropped while receiving",
            "fill": 0,
            "gridPos": {
              "h": 8,
              "w": 19,
              "x": 0,
              "y": 61
            },
            "id": 16,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum \n(rate(container_network_receive_packets_dropped_total[$Interval])) by (pod_name)",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name }}",
                "refId": "A"
              },
              {
                "expr": "container_network_receive_packets_dropped_total{image!=\"\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ namespace }} {{ pod_name }}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "接收时丢弃的数据包总数",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": false,
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "容器",
          "容器资源指标"
        ],
        "templating": {
          "list": [
            {
              "auto": true,
              "auto_count": 30,
              "auto_min": "10s",
              "current": {
                "text": "10m",
                "value": "10m"
              },
              "hide": 0,
              "label": "Interval",
              "name": "Interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_Interval"
                },
                {
                  "selected": false,
                  "text": "1m",
                  "value": "1m"
                },
                {
                  "selected": true,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                },
                {
                  "selected": false,
                  "text": "1d",
                  "value": "1d"
                },
                {
                  "selected": false,
                  "text": "7d",
                  "value": "7d"
                },
                {
                  "selected": false,
                  "text": "14d",
                  "value": "14d"
                },
                {
                  "selected": false,
                  "text": "30d",
                  "value": "30d"
                }
              ],
              "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            }
          ]
        },
        "time": {
          "from": "now-5m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "k8s-☸-pgmon/cAdvisor-Brief",
        "uid": "FD90gFQmk",
        "version": 1
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-cadvisor-brief
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-cadvisor-namespace.json: |-          
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "namespace cadvisor describe",
        "editable": true,
        "gnetId": 193,
        "graphTooltip": 1,
        "id": 9,
        "iteration": 1547717123438,
        "links": [],
        "panels": [
          {
            "content": "- 参考 https://github.com/kubernetes/kube-state-metrics/tree/master/Documentation",
            "gridPos": {
              "h": 2,
              "w": 9,
              "x": 0,
              "y": 0
            },
            "id": 53,
            "mode": "markdown",
            "title": "Panel Title",
            "type": "text"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 2
            },
            "id": 65,
            "panels": [
              {
                "columns": [],
                "fontSize": "100%",
                "gridPos": {
                  "h": 5,
                  "w": 15,
                  "x": 0,
                  "y": 3
                },
                "id": 63,
                "links": [],
                "pageSize": null,
                "scroll": true,
                "showHeader": true,
                "sort": {
                  "col": 0,
                  "desc": true
                },
                "styles": [
                  {
                    "alias": "Time",
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "pattern": "Time",
                    "type": "date"
                  },
                  {
                    "alias": "configmap数量",
                    "colorMode": "cell",
                    "colors": [
                      "#cca300",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value",
                    "preserveFormat": false,
                    "sanitize": false,
                    "thresholds": [],
                    "type": "string",
                    "unit": "m"
                  },
                  {
                    "alias": "",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "decimals": 2,
                    "pattern": "/.*/",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  }
                ],
                "targets": [
                  {
                    "expr": "sum(kube_configmap_info) by (namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "title": "configMap",
                "transform": "table",
                "type": "table"
              }
            ],
            "title": "configMap",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 3
            },
            "id": 55,
            "panels": [
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 3,
                  "w": 5,
                  "x": 0,
                  "y": 4
                },
                "id": 59,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(kube_secret_info)",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "secret共计",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "columns": [],
                "fontSize": "100%",
                "gridPos": {
                  "h": 6,
                  "w": 19,
                  "x": 5,
                  "y": 4
                },
                "id": 61,
                "links": [],
                "pageSize": null,
                "scroll": true,
                "showHeader": true,
                "sort": {
                  "col": 0,
                  "desc": true
                },
                "styles": [
                  {
                    "alias": "Time",
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "pattern": "Time",
                    "type": "date"
                  },
                  {
                    "alias": "",
                    "colorMode": "row",
                    "colors": [
                      "#3f2b5b",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "decimals": 2,
                    "pattern": "/.*/",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  }
                ],
                "targets": [
                  {
                    "expr": "sum(kube_secret_type) by (namespace,secret,type)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "title": "describe",
                "transform": "table",
                "type": "table"
              },
              {
                "cacheTimeout": null,
                "colorBackground": true,
                "colorPostfix": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "#ba43a9",
                  "#d44a3a"
                ],
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 3,
                  "w": 5,
                  "x": 0,
                  "y": 7
                },
                "id": 57,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": true
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(kube_secret_info{namespace=~\"^$namespace\"})",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "$namespace secre",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "没有",
                    "value": "0"
                  }
                ],
                "valueName": "avg"
              }
            ],
            "title": "secret 计数",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 4
            },
            "id": 43,
            "panels": [
              {
                "cacheTimeout": null,
                "colorBackground": true,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 5,
                  "w": 5,
                  "x": 0,
                  "y": 5
                },
                "id": 49,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": true
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "count(kube_namespace_status_phase)",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "全部名称空间",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "cacheTimeout": null,
                "colorBackground": true,
                "colorPostfix": false,
                "colorPrefix": false,
                "colorValue": false,
                "colors": [
                  "#d44a3a",
                  "#705da0",
                  "#299c46"
                ],
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 5,
                  "w": 3,
                  "x": 5,
                  "y": 5
                },
                "id": 47,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "#fce2de",
                  "show": true
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "count(kube_namespace_status_phase{phase=\"Active\"})",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Active名称空间数",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": true,
                "colors": [
                  "#299c46",
                  "#e24d42",
                  "#d44a3a"
                ],
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 5,
                  "w": 4,
                  "x": 8,
                  "y": 5
                },
                "id": 51,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "count(kube_namespace_status_phase{phase=\"Terminating\"})",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Terminating",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "columns": [],
                "fontSize": "100%",
                "gridPos": {
                  "h": 5,
                  "w": 12,
                  "x": 12,
                  "y": 5
                },
                "id": 45,
                "pageSize": null,
                "scroll": true,
                "showHeader": true,
                "sort": {
                  "col": null,
                  "desc": false
                },
                "styles": [
                  {
                    "alias": "Time",
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "pattern": "Time",
                    "type": "date"
                  },
                  {
                    "alias": "名称空间时间戳",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #A",
                    "preserveFormat": false,
                    "sanitize": false,
                    "thresholds": [],
                    "type": "hidden",
                    "unit": "short"
                  },
                  {
                    "alias": "状态",
                    "colorMode": "value",
                    "colors": [
                      "#7eb26d",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "link": false,
                    "mappingType": 1,
                    "pattern": "phase",
                    "preserveFormat": false,
                    "sanitize": false,
                    "thresholds": [
                      "20",
                      "50"
                    ],
                    "type": "string",
                    "unit": "short"
                  },
                  {
                    "alias": "",
                    "colorMode": "cell",
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value",
                    "thresholds": [
                      "0",
                      "1"
                    ],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "Terminating",
                    "colorMode": "cell",
                    "colors": [
                      "#eab839",
                      "#3f6833",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #C",
                    "thresholds": [
                      "0",
                      "1",
                      "5"
                    ],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #B",
                    "thresholds": [],
                    "type": "hidden",
                    "unit": "short"
                  },
                  {
                    "alias": "",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "decimals": 2,
                    "pattern": "/.*/",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  }
                ],
                "targets": [
                  {
                    "expr": "max(kube_namespace_created) by (phase,namespace)",
                    "format": "table",
                    "hide": true,
                    "instant": false,
                    "intervalFactor": 1,
                    "refId": "A"
                  },
                  {
                    "expr": "max(kube_namespace_status_phase{phase=\"Active\"}) by (phase,namespace)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "B"
                  },
                  {
                    "expr": "sum(max(kube_namespace_status_phase{phase=\"Terminating\"}) by (phase,namespace))",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "C"
                  }
                ],
                "title": "Panel Title",
                "transform": "table",
                "type": "table"
              }
            ],
            "title": "namespace",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 5
            },
            "id": 39,
            "panels": [
              {
                "columns": [],
                "fontSize": "100%",
                "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 6
                },
                "id": 41,
                "links": [],
                "pageSize": null,
                "scroll": true,
                "showHeader": true,
                "sort": {
                  "col": 0,
                  "desc": true
                },
                "styles": [
                  {
                    "alias": "Time",
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "pattern": "Time",
                    "type": "date"
                  },
                  {
                    "alias": "",
                    "colorMode": "row",
                    "colors": [
                      "#5195ce",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "decimals": 2,
                    "pattern": "/.*/",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  }
                ],
                "targets": [
                  {
                    "expr": "max(kube_service_info) by (service,namespace,cluster_ip)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "title": "service status",
                "transform": "table",
                "type": "table"
              }
            ],
            "title": "service",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 6
            },
            "id": 37,
            "panels": [
              {
                "columns": [],
                "fontSize": "100%",
                "gridPos": {
                  "h": 8,
                  "w": 24,
                  "x": 0,
                  "y": 7
                },
                "id": 35,
                "links": [],
                "pageSize": null,
                "scroll": true,
                "showHeader": true,
                "sort": {
                  "col": 2,
                  "desc": false
                },
                "styles": [
                  {
                    "alias": "Time",
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "pattern": "Time",
                    "type": "date"
                  },
                  {
                    "alias": "名称空间",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "namespace",
                    "thresholds": [
                      "20",
                      "50"
                    ],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "replicas 状态",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "link": false,
                    "mappingType": 1,
                    "pattern": "Value #A",
                    "thresholds": [
                      "10",
                      "20"
                    ],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "fully replicas",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #B",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "ready replicas",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #C",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "observed generation",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #D",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "spec replicas",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #E",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "metadata generation",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #F",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  },
                  {
                    "alias": "时间戳",
                    "colorMode": "row",
                    "colors": [
                      "#aea2e0",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 2,
                    "mappingType": 1,
                    "pattern": "Value #G",
                    "preserveFormat": false,
                    "sanitize": false,
                    "thresholds": [],
                    "type": "string",
                    "unit": "short"
                  },
                  {
                    "alias": "",
                    "colorMode": null,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "decimals": 2,
                    "pattern": "/.*/",
                    "thresholds": [],
                    "type": "number",
                    "unit": "short"
                  }
                ],
                "targets": [
                  {
                    "expr": "max(kube_replicaset_status_replicas) by (replicaset,namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "legendFormat": "",
                    "refId": "A"
                  },
                  {
                    "expr": "max(kube_replicaset_status_fully_labeled_replicas) by (replicaset,namespace)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "B"
                  },
                  {
                    "expr": "max(kube_replicaset_status_ready_replicas) by (replicaset,namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "C"
                  },
                  {
                    "expr": "max(kube_replicaset_status_observed_generation) by (replicaset,namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "D"
                  },
                  {
                    "expr": "max(kube_replicaset_spec_replicas) by (replicaset,namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "E"
                  },
                  {
                    "expr": "max(kube_replicaset_metadata_generation) by (replicaset,namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "F"
                  },
                  {
                    "expr": "max(kube_replicaset_created) by (replicaset,namespace)",
                    "format": "table",
                    "instant": true,
                    "intervalFactor": 1,
                    "refId": "G"
                  }
                ],
                "title": "ReplicaSet指标",
                "transform": "table",
                "type": "table"
              }
            ],
            "title": "replicas",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 7
            },
            "id": 25,
            "panels": [
              {
                "columns": [
                  {
                    "text": "Current",
                    "value": "current"
                  }
                ],
                "datasource": "Prometheus",
                "fontSize": "100%",
                "gridPos": {
                  "h": 5,
                  "w": 10,
                  "x": 0,
                  "y": 8
                },
                "id": 27,
                "links": [],
                "pageSize": null,
                "scroll": true,
                "showHeader": true,
                "sort": {
                  "col": 1,
                  "desc": true
                },
                "styles": [
                  {
                    "alias": "Time",
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "pattern": "Time",
                    "type": "date"
                  },
                  {
                    "alias": "",
                    "colorMode": "row",
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "decimals": 0,
                    "pattern": "Metric",
                    "thresholds": [
                      "0",
                      "0",
                      ".9"
                    ],
                    "type": "string",
                    "unit": "none"
                  },
                  {
                    "alias": "",
                    "colorMode": "row",
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "#7eb26d"
                    ],
                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                    "decimals": 0,
                    "link": false,
                    "pattern": "Value",
                    "thresholds": [
                      "0",
                      "1"
                    ],
                    "type": "number",
                    "unit": "none"
                  }
                ],
                "targets": [
                  {
                    "expr": "kube_deployment_status_replicas{namespace=~\"$namespace\"}",
                    "format": "time_series",
                    "instant": true,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ deployment }}",
                    "refId": "A"
                  }
                ],
                "title": "Deployment Replicas - Up To Date",
                "transform": "timeseries_to_rows",
                "type": "table"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 5,
                  "w": 6,
                  "x": 10,
                  "y": 8
                },
                "id": 29,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(kube_deployment_status_replicas{namespace=~\"$namespace\"})",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Deployment Replicas",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 5,
                  "w": 4,
                  "x": 16,
                  "y": 8
                },
                "id": 31,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(kube_deployment_status_replicas_updated{namespace=~\"$namespace\"})",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Deployment Replicas - Updated",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 5,
                  "w": 4,
                  "x": 20,
                  "y": 8
                },
                "id": 33,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"$namespace\"})",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Deployment Replicas - Unavailable",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              }
            ],
            "title": "deployment",
            "type": "row"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 23,
            "panels": [],
            "title": "Pod",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorPostfix": false,
            "colorPrefix": false,
            "colorValue": false,
            "colors": [
              "#d44a3a",
              "rgba(237, 129, 40, 0.89)",
              "#0a50a1"
            ],
            "decimals": null,
            "format": "decbytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": false
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 0,
              "y": 9
            },
            "id": 17,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "#1f78c1",
              "full": false,
              "lineColor": "#dedaf7",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(node_memory_MemTotal_bytes)",
                "format": "time_series",
                "instant": false,
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "1,0",
            "title": "总内存大小",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "max"
          },
          {
            "aliasColors": {},
            "breakPoint": "50%",
            "cacheTimeout": null,
            "combine": {
              "label": "Others",
              "threshold": 0
            },
            "fontSize": "100%",
            "format": "short",
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 4,
              "y": 9
            },
            "id": 9,
            "interval": null,
            "legend": {
              "header": "",
              "percentage": true,
              "percentageDecimals": null,
              "show": true,
              "values": true
            },
            "legendType": "Under graph",
            "links": [],
            "maxDataPoints": 3,
            "nullPointMode": "connected",
            "pieType": "pie",
            "strokeWidth": 1,
            "targets": [
              {
                "expr": "count(container_last_seen{image!=\"\",namespace=\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ $namespace 占用 }} /个",
                "refId": "A"
              },
              {
                "expr": "count(container_last_seen{image!=\"\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "总容器 /个",
                "refId": "B"
              }
            ],
            "title": "$namespace容器占用比例",
            "type": "grafana-piechart-panel",
            "valueName": "current"
          },
          {
            "aliasColors": {},
            "breakPoint": "100%",
            "cacheTimeout": null,
            "combine": {
              "label": "Others",
              "threshold": 0
            },
            "fontSize": "80%",
            "format": "short",
            "gridPos": {
              "h": 5,
              "w": 7,
              "x": 10,
              "y": 9
            },
            "id": 11,
            "interval": null,
            "legend": {
              "percentage": true,
              "show": true,
              "values": true
            },
            "legendType": "Under graph",
            "links": [],
            "maxDataPoints": 3,
            "nullPointMode": "connected",
            "pieType": "pie",
            "strokeWidth": 1,
            "targets": [
              {
                "expr": "sum(container_memory_usage_bytes{image!=\"\",namespace=\"$namespace\"})/1024/1024",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ $namespace }} 使用的内存大小",
                "refId": "A"
              },
              {
                "expr": "sum(container_memory_usage_bytes{image!=\"\"})/1024/1024",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "容器共使用内存大小 / KB",
                "refId": "B"
              }
            ],
            "title": "$namespace内存占用比例",
            "type": "grafana-piechart-panel",
            "valueName": "current"
          },
          {
            "aliasColors": {},
            "breakPoint": "50%",
            "cacheTimeout": null,
            "combine": {
              "label": "Others",
              "threshold": 0
            },
            "fontSize": "80%",
            "format": "short",
            "gridPos": {
              "h": 5,
              "w": 7,
              "x": 17,
              "y": 9
            },
            "id": 13,
            "interval": null,
            "legend": {
              "show": true,
              "values": true
            },
            "legendType": "Under graph",
            "links": [],
            "maxDataPoints": 3,
            "nullPointMode": "connected",
            "pieType": "pie",
            "strokeWidth": 1,
            "targets": [
              {
                "expr": "sum(rate(container_cpu_user_seconds_total{image!=\"\",namespace=\"$namespace\"}[5m]) * 100)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "$namespace 使用的CPU",
                "refId": "A"
              },
              {
                "expr": "sum(rate(container_cpu_user_seconds_total{image!=\"\"}[5m]) * 100)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "容器共使用的CPU",
                "refId": "B"
              }
            ],
            "title": "$namespace cpu比例",
            "type": "grafana-piechart-panel",
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorPostfix": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#ba43a9"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 0,
              "y": 12
            },
            "id": 15,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(node_cpu_seconds_total{mode =\"system\"}) by (node)",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "0，1",
            "title": "CPU总核心数",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorPostfix": false,
            "colorPrefix": true,
            "colorValue": false,
            "colors": [
              "#299c46",
              "#5195ce",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 0,
              "y": 14
            },
            "id": 21,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#e0f9d7",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(kube_pod_status_phase{phase=\"Running\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "kube_pod_status_phase Running",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorPostfix": false,
            "colorPrefix": true,
            "colorValue": false,
            "colors": [
              "#299c46",
              "#ba43a9",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 4,
              "y": 14
            },
            "id": 19,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#cffaff",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(kube_pod_status_phase{phase=\"Failed\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "kube_pod_status_phase have failed",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "#2f575e",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 8,
              "y": 14
            },
            "height": "20",
            "id": 7,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#cffaff",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(container_last_seen{image!=\"\",namespace=\"$namespace\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "{{ $namespace }}",
                "metric": "container_last_seen",
                "refId": "A",
                "step": 240
              },
              {
                "expr": "",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": "",
            "title": "$namespace Num",
            "transparent": true,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "#584477",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "mbytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 12,
              "y": 14
            },
            "height": "20",
            "id": 5,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#badff4",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(container_memory_usage_bytes{image!=\"\",namespace=\"$namespace\"})/1024/1024",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "container_memory_usage_bytes",
                "refId": "A",
                "step": 240
              }
            ],
            "thresholds": "",
            "title": "$namespace Total Memory Usage",
            "transparent": true,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorPostfix": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "#f29191",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 16,
              "y": 14
            },
            "height": "20",
            "id": 6,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#5195ce",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(rate(container_cpu_user_seconds_total{image!=\"\",namespace=\"$namespace\"}[5m]) * 100)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "container_memory_usage_bytes",
                "refId": "A",
                "step": 240
              }
            ],
            "thresholds": "",
            "title": "$namespace Total CPU Usage",
            "transparent": true,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 19,
              "x": 0,
              "y": 16
            },
            "id": 2,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 450,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "repeatDirection": "h",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_cpu_user_seconds_total{image!=\"\",namespace=~\"^$namespace\",name=~\"^k8s_.*\"}[$interval])) by (pod_name) * 100",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod_name}}",
                "metric": "cpu",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "sum(rate(container_cpu_user_seconds_total{image!=\"\",name=~\"^k8s_.*\"}[$interval])) by (pod_name) * 100",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 19,
              "x": 0,
              "y": 23
            },
            "id": 1,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 650,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_memory_usage_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",namespace=~\"^$namespace\"}[$interval])) by (container_name, pod_name)",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "intervalFactor": 2,
                "legendFormat": "pod: {{pod_name}} {{ container_name }}",
                "metric": "container_memory_usage_bytes",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "sum(container_memory_usage_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",namespace=\"$namespace\"}[$interval]) by (container_name, pod_name)",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "pod: {{pod_name}} {{ container_name }}",
                "refId": "B"
              },
              {
                "expr": "sum(rate(container_memory_usage_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\"}[$interval])) by (container_name, pod_name)",
                "format": "time_series",
                "hide": true,
                "instant": false,
                "intervalFactor": 1,
                "legendFormat": "pod: {{pod_name}} {{ container_name }}",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 19,
              "x": 0,
              "y": 30
            },
            "id": 4,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideZero": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 550,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",namespace=~\"^$namespace\",name=~\"^k8s_.*\"}[$interval])) by (pod_name)",
                "format": "time_series",
                "hide": false,
                "interval": "10s",
                "intervalFactor": 2,
                "legendFormat": "->{{pod_name }}",
                "refId": "A",
                "step": 20
              },
              {
                "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",namespace=~\"^$namespace\",name=~\"^k8s_.*\"}[$interval])) by (pod_name)",
                "format": "time_series",
                "hide": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "<- {{ pod_name }}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pod Network  I/O 5分钟",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": false,
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "namespace ",
          "容器",
          "资源状态"
        ],
        "templating": {
          "list": [
            {
              "auto": true,
              "auto_count": 30,
              "auto_min": "10s",
              "current": {
                "text": "1m",
                "value": "1m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "1m",
                  "value": "1m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                },
                {
                  "selected": false,
                  "text": "1d",
                  "value": "1d"
                },
                {
                  "selected": false,
                  "text": "7d",
                  "value": "7d"
                },
                {
                  "selected": false,
                  "text": "14d",
                  "value": "14d"
                },
                {
                  "selected": false,
                  "text": "30d",
                  "value": "30d"
                }
              ],
              "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "allValue": null,
              "current": {
                "tags": [],
                "text": "pgmon",
                "value": "pgmon"
              },
              "datasource": "Prometheus",
              "definition": "label_values(kube_namespace_status_phase,namespace)",
              "hide": 0,
              "includeAll": true,
              "label": "namespace",
              "multi": false,
              "name": "namespace",
              "options": [],
              "query": "label_values(kube_namespace_status_phase,namespace)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-5m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "k8s-☸-pgmon/cAdvisor-namespace",
        "uid": "PGmonMarksugar",
        "version": 4
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-cadvisor-namespace
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-docker-monitoring-all.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Docker monitoring with Prometheus and cAdvisor",
        "editable": true,
        "gnetId": 193,
        "graphTooltip": 1,
        "id": 4,
        "iteration": 1547643912885,
        "links": [],
        "panels": [
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 0,
              "y": 0
            },
            "height": "20",
            "id": 7,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(container_last_seen{image!=\"\"})",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "container_last_seen",
                "refId": "A",
                "step": 240
              }
            ],
            "thresholds": "",
            "title": "Running containers",
            "transparent": true,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "mbytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 8,
              "y": 0
            },
            "height": "20",
            "id": 5,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(container_memory_usage_bytes{image!=\"\"})/1024/1024",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "container_memory_usage_bytes",
                "refId": "A",
                "step": 240
              }
            ],
            "thresholds": "",
            "title": "Total Memory Usage",
            "transparent": true,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 16,
              "y": 0
            },
            "height": "20",
            "id": 6,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(rate(container_cpu_user_seconds_total{image!=\"\"}[5m]) * 100)",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "container_memory_usage_bytes",
                "refId": "A",
                "step": 240
              }
            ],
            "thresholds": "",
            "title": "Total CPU Usage",
            "transparent": true,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 20,
              "x": 0,
              "y": 3
            },
            "id": 2,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "rate(container_cpu_user_seconds_total{image!=\"\"}[5m]) * 100",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{ container_name}} {{ pod_name }}",
                "metric": "cpu",
                "refId": "A",
                "step": 10
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 20,
              "x": 0,
              "y": 10
            },
            "id": 1,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "container_memory_usage_bytes{image!=\"\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "{{ container_name}} {{ pod_name }}",
                "metric": "container_memory_usage_bytes",
                "refId": "A",
                "step": 10
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 20,
              "x": 0,
              "y": 17
            },
            "id": 3,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "hideZero": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(container_network_receive_bytes_total{image!=\"\"}[5m])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{ container_name}} {{ pod_name }}",
                "metric": "container_network_receive_bytes_total",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network Rx",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 8,
              "w": 20,
              "x": 0,
              "y": 24
            },
            "id": 4,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(container_network_transmit_bytes_total{image!=\"\"}[5m])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{ container_name}} {{ pod_name }}",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network Tx",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": "10s",
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "所有容器大盘表"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "text": "Prometheus",
                "value": "Prometheus"
              },
              "hide": 2,
              "label": null,
              "name": "pgmon",
              "options": [],
              "query": "prometheus",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            }
          ]
        },
        "time": {
          "from": "now-3h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "k8s-☸-pgmon/Docker monitoring  ALL",
        "uid": "NJjtsePmz",
        "version": 3
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-docker-monitoring-all
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-kubernetes-api.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "id": 6,
        "links": [],
        "panels": [
          {
            "content": "- 请求率和延迟\r\n- 控制器工作队列的性能\r\n- Etcd helper 缓存工作队列和缓存性能",
            "id": 2,
            "links": [],
            "mode": "markdown",
            "title": "Panel Title",
            "type": "text"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "这通过verb提供的所有kubernetes的5分钟的速率，其中包括所有的动作： WATCH, PUT, POST, PATCH, LIST, GET, DELETE, and CONNECT.",
            "fill": 0,
            "gridPos": {
              "h": 9,
              "w": 18,
              "x": 0,
              "y": 3
            },
            "id": 4,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(apiserver_request_count[5m])) by (resource, subresource, verb)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ resource}} {{ subresource }} {{ verb  }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "请求速率/5m",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "HTTP服务器的错误跟踪为HTTP 5xx错误。使用此查询可以获得错误与请求率的比率",
            "fill": 1,
            "gridPos": {
              "h": 10,
              "w": 18,
              "x": 0,
              "y": 12
            },
            "id": 8,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideEmpty": false,
              "hideZero": false,
              "max": true,
              "min": true,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": true,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "rate(apiserver_request_count{code=~\"^(?:5..)$\"}[5m]) / rate(apiserver_request_count[5m])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ client }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "http 5xx错误与请求率的比率",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      1
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "1m",
              "handler": 1,
              "name": "API响应分布 alert",
              "noDataState": "alerting",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 0,
            "gridPos": {
              "h": 9,
              "w": 18,
              "x": 0,
              "y": 22
            },
            "id": 10,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "histogram_quantile(0.99, sum(rate(apiserver_request_latencies_bucket[5m])) \r\nby (le, resource, subresource, verb) ) / 1e+06",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{ resource }} {{ subresource }} {{ verb }} ",
                "refId": "A"
              },
              {
                "expr": "histogram_quantile(0.99, sum(apiserver_request_latencies_bucket{subresource!=\"log\",verb!~\"^(?:CONNECT|WATCHLIST|WATCH|PROXY)$\"}) WITHOUT (instance, resource)) / 1e+06",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{ job }}{{ scope }} {{ verb }}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 1
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "API响应分布",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 0,
            "gridPos": {
              "h": 9,
              "w": 18,
              "x": 0,
              "y": 31
            },
            "id": 12,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "APIServiceRegistrationController_adds",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }} workqueue 处理的添加总数:",
                "refId": "A"
              },
              {
                "expr": "APIServiceRegistrationController_depth",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}  当前工作深度：",
                "refId": "B"
              },
              {
                "expr": "APIServiceRegistrationController_queue_latency",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}  {{ quantile }} 队列延迟分布",
                "refId": "C"
              },
              {
                "expr": "APIServiceRegistrationController_queue_latency_count",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}   队列延迟计数",
                "refId": "D"
              },
              {
                "expr": "APIServiceRegistrationController_queue_latency_sum",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}  队列延迟总和",
                "refId": "E"
              },
              {
                "expr": "APIServiceRegistrationController_retries",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}   工作队列处理的重试总次数",
                "refId": "F"
              },
              {
                "expr": "APIServiceRegistrationController_work_duration",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}  {{ quantile }} 处理所需时长",
                "refId": "G"
              },
              {
                "expr": "APIServiceRegistrationController_work_duration_count",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }} 工作时间计数",
                "refId": "H"
              },
              {
                "expr": "APIServiceRegistrationController_work_duration_sum",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} {{ job }}  持续时间总和",
                "refId": "I"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "API控制器工作队列的性能",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "description": "如果在一段时间内没有请求，则无法计算百分位数。在那种情况下报告NaN。",
            "fill": 1,
            "gridPos": {
              "h": 10,
              "w": 18,
              "x": 0,
              "y": 40
            },
            "id": 14,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideZero": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "etcd_helper_cache_entry_count",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} 缓存中的元素数",
                "refId": "A"
              },
              {
                "expr": "etcd_helper_cache_hit_count",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}  缓存命中数",
                "refId": "B"
              },
              {
                "expr": "etcd_helper_cache_miss_count",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}  缓存未命中数",
                "refId": "C"
              },
              {
                "expr": "etcd_request_cache_add_latencies_summary_count",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}  缓存添加数量",
                "refId": "D"
              },
              {
                "expr": "etcd_request_cache_add_latencies_summary_sum ",
                "format": "time_series",
                "instant": false,
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}  将项目放入缓存所花费的总时间",
                "refId": "E"
              },
              {
                "expr": "histogram_quantile(0.9,rate(etcd_request_cache_get_latencies_summary[5m]))",
                "format": "time_series",
                "instant": false,
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "F"
              },
              {
                "expr": "etcd_request_cache_get_latencies_summary_count",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} 缓存获取次数的计数",
                "refId": "G"
              },
              {
                "expr": "etcd_request_cache_get_latencies_summary_sum",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }} 缓存中获取项目所花费的总时间",
                "refId": "H"
              },
              {
                "expr": "sum(rate(etcd_request_cache_add_latencies_summary[5m])) by (instance,quantile)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "I"
              },
              {
                "expr": "rate(etcd_request_cache_add_latencies_summary_sum[5m])  / rate(etcd_request_cache_add_latencies_summary_count[5m])",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "J"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Etcd交互",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": false,
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "Kubernetes API"
        ],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-5m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "k8s-☸-pgmon/Kubernetes API",
        "uid": "1VmtTFQiz",
        "version": 1
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-kubernetes-api
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-node-exporter-server-metrics.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Dashboard to view multiple servers",
        "editable": true,
        "gnetId": 405,
        "graphTooltip": 0,
        "id": 7,
        "iteration": 1547643998990,
        "links": [],
        "panels": [
          {
            "content": "",
            "editable": true,
            "error": false,
            "gridPos": {
              "h": 3,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 11,
            "minSpan": 4,
            "mode": "html",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "style": {},
            "title": "$node",
            "type": "text"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 24,
              "x": 0,
              "y": 3
            },
            "id": 20,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 4,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(node_cpu_seconds_total{instance=~\"$node\", mode=\"system\"})",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 14400,
                "target": ""
              }
            ],
            "thresholds": "",
            "title": "CPU Cores",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 3,
            "editable": true,
            "error": false,
            "fill": 10,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 6
            },
            "id": 7,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": false,
              "hideEmpty": false,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 0,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": true,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode=\"system\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{mode}}",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='user',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "user",
                "refId": "B",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='nice',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "nice",
                "refId": "C",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='iowait',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "iowait",
                "refId": "E",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='steal',instance=~'$node'}[5m]))",
                "intervalFactor": 2,
                "legendFormat": "steal",
                "refId": "H",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='idle',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "idle",
                "refId": "D",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='irq',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "irq",
                "refId": "F",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='softirq',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "softirq",
                "refId": "G",
                "step": 1200
              },
              {
                "expr": "sum by (mode)(irate(node_cpu_seconds_total{mode='guest',instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "guest",
                "refId": "I",
                "step": 1200
              }
            ],
            "thresholds": [
              {
                "colorMode": "custom",
                "fill": true,
                "fillColor": "rgba(216, 200, 27, 0.27)",
                "op": "gt",
                "value": 0
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": "%",
                "logBase": 1,
                "max": 100,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "Slab": "#E5A8E2",
              "Swap": "#E24D42"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 13
            },
            "id": 17,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/Apps|Buffers|Cached|Free|Slab|SwapCached|PageTables|VmallocUsed/",
                "fill": 5,
                "stack": true
              },
              {
                "alias": "Swap",
                "fill": 5,
                "stack": true
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "( node_memory_MemTotal_bytes{instance=~'$node'} - node_memory_MemFree_bytes{instance=~'$node'} - node_memory_Buffers_bytes{instance=~'$node'} - node_memory_Cached_bytes{instance=~'$node'} - node_memory_SwapCached_bytes{instance=~'$node'} - node_memory_Slab_bytes{instance=~'$node'} - node_memory_PageTables_bytes{instance=~'$node'} - node_memory_VmallocUsed_bytes{instance=~'$node'} )",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Apps",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "node_memory_Buffers_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Buffers",
                "refId": "B",
                "step": 1200
              },
              {
                "expr": "node_memory_Cached_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Cached",
                "refId": "D",
                "step": 1200
              },
              {
                "expr": "node_memory_MemFree_bytes{instance=~'$node'}",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Free",
                "refId": "E",
                "step": 1200
              },
              {
                "expr": "node_memory_Slab_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Slab",
                "refId": "F",
                "step": 1200
              },
              {
                "expr": "node_memory_SwapCached_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "SwapCached",
                "refId": "G",
                "step": 1200
              },
              {
                "expr": "node_memory_PageTables_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "PageTables",
                "refId": "H",
                "step": 1200
              },
              {
                "expr": "node_memory_VmallocUsed_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "VmallocUsed",
                "metric": "",
                "refId": "I",
                "step": 1200
              },
              {
                "expr": "(node_memory_SwapTotal_bytes{instance=~'$node'} - node_memory_SwapFree{instance=~'$node'})",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Swap",
                "metric": "",
                "refId": "C",
                "step": 1200
              },
              {
                "expr": "node_memory_Committed_AS_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Committed",
                "metric": "",
                "refId": "J",
                "step": 1200
              },
              {
                "expr": "node_memory_Mapped_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Mapped",
                "refId": "K",
                "step": 1200
              },
              {
                "expr": "node_memory_Active_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Active",
                "metric": "",
                "refId": "L",
                "step": 1200
              },
              {
                "expr": "node_memory_Inactive_bytes{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Inactive",
                "metric": "",
                "refId": "M",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "GB",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 20
            },
            "id": 13,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_load1{instance=~\"$node\"}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "load",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Load",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 3,
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 27
            },
            "id": 9,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "100.0 - 100 * (node_filesystem_avail_bytes{instance=~'$node',device !~'tmpfs',device!~'by-uuid'} / node_filesystem_size_bytes{instance=~'$node',device !~'tmpfs',device!~'by-uuid'})",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{mountpoint}}",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Space Used",
            "tooltip": {
              "msResolution": true,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "logBase": 1,
                "max": 100,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 34
            },
            "id": 19,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_io_time_seconds_total{instance=~\"$node\"}[5m])/10",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Utilization per Device",
            "tooltip": {
              "msResolution": false,
              "shared": false,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "logBase": 1,
                "max": 100,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 41
            },
            "id": 14,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*_read$/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_reads_completed_total{instance=~'$node'}[5m])",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{device}}_read",
                "metric": "",
                "refId": "A",
                "step": 2400,
                "target": ""
              },
              {
                "expr": "irate(node_disk_writes_completed_total{instance=~'$node'}[5m])",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_write",
                "metric": "",
                "refId": "B",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk IOs per Device",
            "tooltip": {
              "msResolution": false,
              "shared": false,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": "IO/second read (-) / write (+)",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 48
            },
            "id": 18,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*_read/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_read_bytes_total{instance=~'$node'}[5m]) * 512",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{device}}_read",
                "refId": "B",
                "step": 2400
              },
              {
                "expr": "irate(node_disk_written_bytes_total{instance=~'$node'}[5m]) * 512",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{device}}_write",
                "metric": "",
                "refId": "A",
                "step": 2400,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Throughput per Device",
            "tooltip": {
              "msResolution": false,
              "shared": false,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "Bytes/second read (-) / write (+)",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 55
            },
            "id": 22,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_context_switches_total{instance=~\"$node\"}[5m])",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "context switches",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Context Switches",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 62
            },
            "id": 12,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*_in/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_network_receive_bytes_total{instance=~'$node'}[5m])*8",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_in",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "irate(node_network_transmit_bytes_total{instance=~'$node'}[5m])*8",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_out",
                "refId": "B",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network Traffic",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bits",
                "label": "bits in (-) / bits out (+)",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 69
            },
            "id": 21,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_netstat_Tcp_CurrEstab{instance=~'$node'}",
                "intervalFactor": 2,
                "legendFormat": "established",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Netstat",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 76
            },
            "id": 23,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*Out.*/",
                "transform": "negative-Y"
              },
              {
                "alias": "Udp_NoPorts",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_netstat_Udp_InDatagrams{instance=~\"$node\"}[5m])",
                "intervalFactor": 2,
                "legendFormat": "Udp_InDatagrams",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "irate(node_netstat_Udp_InErrors{instance=~\"$node\"}[5m])",
                "intervalFactor": 2,
                "legendFormat": "Udp_InErrors",
                "refId": "B",
                "step": 1200
              },
              {
                "expr": "irate(node_netstat_Udp_OutDatagrams{instance=~\"$node\"}[5m])",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Udp_OutDatagrams",
                "refId": "C",
                "step": 1200
              },
              {
                "expr": "irate(node_netstat_Udp_NoPorts{instance=~\"$node\"}[5m])",
                "intervalFactor": 2,
                "legendFormat": "Udp_NoPorts",
                "refId": "D",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "UDP Stats",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 83
            },
            "id": 24,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_nf_conntrack_entries_limit{instance=~\"$node\"} - node_nf_conntrack_entries{instance=~\"$node\"}",
                "intervalFactor": 2,
                "legendFormat": "free",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Conntrack",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "主机"
        ],
        "templating": {
          "list": [
            {
              "allFormat": "glob",
              "allValue": null,
              "current": {
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              },
              "datasource": "Prometheus",
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "label": "",
              "multi": true,
              "multiFormat": "regex values",
              "name": "node",
              "options": [],
              "query": "label_values(node_boot_time_seconds, instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "text": "Prometheus",
                "value": "Prometheus"
              },
              "hide": 2,
              "label": null,
              "name": "pgmon",
              "options": [],
              "query": "prometheus",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            }
          ]
        },
        "time": {
          "from": "now-5m",
          "to": "now"
        },
        "timepicker": {
          "now": true,
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "k8s-☸-pgmon/Node Exporter Server Metrics",
        "uid": "mPVpyePmk",
        "version": 3
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-node-exporter-server-metrics
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-node-exporter-brief.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "id": 8,
        "links": [],
        "panels": [
          {
            "columns": [],
            "fontSize": "100%",
            "gridPos": {
              "h": 8,
              "w": 23,
              "x": 0,
              "y": 0
            },
            "id": 12,
            "links": [],
            "pageSize": null,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 1,
              "desc": false
            },
            "styles": [
              {
                "alias": "Time",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "pattern": "Time",
                "type": "date"
              },
              {
                "alias": "使用率",
                "colorMode": "cell",
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value #A",
                "thresholds": [
                  "80",
                  "90"
                ],
                "type": "number",
                "unit": "percentunit"
              },
              {
                "alias": "分区",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "device",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              },
              {
                "alias": "日期",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Time",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              },
              {
                "alias": "主机",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "instance",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              },
              {
                "alias": "文件系统",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "fstype",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              },
              {
                "alias": "可用空间",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value #C",
                "thresholds": [],
                "type": "number",
                "unit": "bytes"
              },
              {
                "alias": "空闲空间",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value #B",
                "thresholds": [],
                "type": "number",
                "unit": "bytes"
              },
              {
                "alias": "分区总大小",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value #D",
                "thresholds": [],
                "type": "number",
                "unit": "bytes"
              },
              {
                "alias": "",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "decimals": 2,
                "pattern": "/.*/",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              }
            ],
            "targets": [
              {
                "expr": "1-sum(node_filesystem_free_bytes{fstype=~\"ext4|xfs\"}) by (instance,device) / sum(node_filesystem_size_bytes{fstype=~\"ext4|xfs\"}) by (instance,device)",
                "format": "table",
                "instant": true,
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              },
              {
                "expr": "max(node_filesystem_free_bytes) by (fstype)",
                "format": "table",
                "hide": false,
                "instant": true,
                "intervalFactor": 1,
                "refId": "B"
              },
              {
                "expr": "max(node_filesystem_avail_bytes {fstype=~\"ext4|xfs\"}) by (device,instance)",
                "format": "table",
                "hide": false,
                "instant": true,
                "intervalFactor": 1,
                "refId": "C"
              },
              {
                "expr": "max(node_filesystem_size_bytes{fstype=~\"ext4|xfs\"}) by (device)  ",
                "format": "table",
                "instant": true,
                "intervalFactor": 1,
                "refId": "D"
              }
            ],
            "title": "磁盘状态",
            "transform": "table",
            "type": "table"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 9,
              "w": 17,
              "x": 0,
              "y": 8
            },
            "id": 4,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(node_cpu_seconds_total{mode!=\"idle\",mode!=\"iowait\",mode!~\"^(?:guest.*)$\"}[5m])) by (instance)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "节点CPU利用量/5m",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 8,
              "w": 17,
              "x": 0,
              "y": 17
            },
            "id": 8,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(node_load1) by (instance ) / count(node_cpu_seconds_total{mode=\"system\"}) by (instance ) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "节点CPU饱和度",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 9,
              "w": 17,
              "x": 0,
              "y": 25
            },
            "id": 6,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "1 - sum(node_memory_MemAvailable_bytes) by (instance) / sum(node_memory_MemTotal_bytes) by (instance)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "节点内存利用率",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 9,
              "w": 17,
              "x": 0,
              "y": 34
            },
            "id": 14,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(node_network_receive_bytes_total[5m])) by (instance) + sum(rate(node_network_transmit_bytes_total[5m])) by (instance)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "网络利用率",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 6,
              "w": 17,
              "x": 0,
              "y": 43
            },
            "id": 16,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(node_network_receive_drop_total[5m])) by (instance) + sum(rate(node_network_transmit_drop_total[5m])) by (instance)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "网络饱和度",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "节点利用率和饱和度",
          "主机状态监控"
        ],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-15m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "k8s-☸-pgmon/node-exporter-Brief",
        "uid": "YDO9sdwik",
        "version": 1
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-node-exporter-brief
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-node-exporter-describe.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "根据项目划分主机",
        "editable": true,
        "gnetId": 8919,
        "graphTooltip": 0,
        "id": 9,
        "iteration": 1547643845379,
        "links": [],
        "panels": [
          {
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 176,
            "title": "所有节点状态",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorPostfix": false,
            "colorPrefix": true,
            "colorValue": true,
            "colors": [
              "#badff4",
              "#bf1b00",
              "#806eb7"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 6,
              "w": 3,
              "x": 0,
              "y": 1
            },
            "id": 188,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#e0f9d7",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(kube_node_info)",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "所有节点数量",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "#299c46",
              "#ba43a9",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 3,
              "y": 1
            },
            "id": 186,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#cffaff",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(APIServiceRegistrationController_retries)",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "Master节点数",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 0,
            "gridPos": {
              "h": 6,
              "w": 10,
              "x": 6,
              "y": 1
            },
            "id": 178,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(node_cpu_seconds_total{mode!=\"idle\",mode!=\"iowait\",mode!~\"^(?:guest.*)$\"}[5m])) by (instance)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "节点CPU利用量",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 16,
              "y": 1
            },
            "id": 182,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "1 - sum(node_memory_MemAvailable_bytes) by (instance) / sum(node_memory_MemTotal_bytes) by (instance)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "节点内存利用率",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorPrefix": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "#052b51",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 3,
              "y": 4
            },
            "id": 184,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "#fce2de",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(node_intr_total{instance!~\"^(?:master.*)\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "Node节点数量",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 7
            },
            "id": 174,
            "panels": [],
            "title": "当前主机状态",
            "type": "row"
          },
          {
            "content": "",
            "editable": true,
            "error": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 11,
            "links": [],
            "minSpan": 4,
            "mode": "html",
            "repeat": "node",
            "repeatDirection": "h",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              }
            },
            "style": {},
            "title": "$node",
            "type": "text"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "decimals": 1,
            "description": "",
            "format": "s",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 2,
              "x": 0,
              "y": 9
            },
            "hideTimeOverride": true,
            "id": 15,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "time() - node_boot_time_seconds{instance=~\"$node\"}",
                "format": "time_series",
                "hide": false,
                "instant": true,
                "intervalFactor": 2,
                "refId": "A",
                "step": 40
              }
            ],
            "thresholds": "",
            "title": "系统运行时间",
            "transparent": false,
            "type": "singlestat",
            "valueFontSize": "100%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "description": "",
            "format": "short",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 2,
              "x": 2,
              "y": 9
            },
            "id": 14,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 4,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(count(node_cpu_seconds_total{instance=~\"$node\", mode='system'}) by (cpu))",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": "",
            "title": "CPU 核数",
            "type": "singlestat",
            "valueFontSize": "100%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "Prometheus",
            "decimals": 2,
            "description": "",
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 4,
              "y": 9
            },
            "id": 167,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 2,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "100 - (avg(irate(node_cpu_seconds_total{instance=~\"$node\",mode=\"idle\"}[5m])) * 100)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": "50,80",
            "title": "CPU使用率（5m）",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "Prometheus",
            "decimals": 2,
            "description": "",
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 7,
              "y": 9
            },
            "id": 20,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 2,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "avg(irate(node_cpu_seconds_total{instance=~\"$node\",mode=\"iowait\"}[5m])) * 100",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": "20,50",
            "title": "CPU iowait（5m）",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 5,
              "x": 10,
              "y": 9
            },
            "id": 180,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum (node_load1{instance=\"$node\"}) by (node) / (count(node_cpu_seconds_total{mode=\"system\"}) by (node)) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "80,0",
            "title": "当前1分钟CPU Load占用总CPU的百分比",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "Prometheus",
            "decimals": 0,
            "description": "",
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 15,
              "y": 9
            },
            "hideTimeOverride": false,
            "id": 172,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 4,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "((node_memory_MemTotal_bytes{instance=~\"$node\"} - node_memory_MemFree_bytes{instance=~\"$node\"} - node_memory_Buffers_bytes{instance=~\"$node\"} - node_memory_Cached_bytes{instance=~\"$node\"}) / (node_memory_MemTotal_bytes{instance=~\"$node\"} )) * 100",
                "format": "time_series",
                "hide": false,
                "interval": "10s",
                "intervalFactor": 1,
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": "80,90",
            "title": "内存使用率",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorPostfix": false,
            "colorPrefix": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "Prometheus",
            "decimals": 2,
            "description": "",
            "format": "short",
            "gauge": {
              "maxValue": 10000,
              "minValue": null,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 18,
              "y": 9
            },
            "hideTimeOverride": false,
            "id": 16,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 4,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "node_filefd_allocated{instance=~\"$node\"}",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": "7000,9000",
            "title": "当前打开的文件描述符",
            "transparent": false,
            "type": "singlestat",
            "valueFontSize": "70%",
            "valueMaps": [],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "Prometheus",
            "decimals": null,
            "description": "",
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 21,
              "y": 9
            },
            "id": 166,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 4,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "repeatDirection": "h",
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "100 - ( max(node_filesystem_avail_bytes{instance=~\"$node\",device=\"/dev/mapper/LBVG-root\",fstype=~\"ext4|xfs\"} * 100) / max(node_filesystem_size_bytes{instance=~\"$node\",device=\"/dev/mapper/LBVG-root\",fstype=~\"ext4|xfs\"}))",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "refId": "A",
                "step": 20
              },
              {
                "expr": "100 - ((node_filesystem_avail_bytes{instance=~\"$node\",mountpoint=\"$maxmount\",fstype=~\"ext4|xfs\"} * 100) / node_filesystem_size_bytes {instance=~\"$node\",mountpoint=\"$maxmount\",fstype=~\"ext4|xfs\"})",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "最大分区使用率",
                "refId": "B"
              }
            ],
            "thresholds": "70,90",
            "title": "根分区使用率",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "Prometheus",
            "decimals": null,
            "description": "",
            "format": "bytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 2,
              "x": 2,
              "y": 11
            },
            "id": 75,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "minSpan": 4,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "70%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "legendFormat": "{{instance}}",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": "",
            "title": "内存总量",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "aliasColors": {
              "15分钟": "#6ED0E0",
              "1分钟": "#BF1B00",
              "5分钟": "#CCA300"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 11,
              "x": 0,
              "y": 14
            },
            "height": "300",
            "id": 13,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "null as zero",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_load1{instance=~\"$node\"}",
                "format": "time_series",
                "instant": false,
                "interval": "10s",
                "intervalFactor": 2,
                "legendFormat": "1m",
                "metric": "",
                "refId": "A",
                "step": 20,
                "target": ""
              },
              {
                "expr": "node_load5{instance=~\"$node\"}",
                "format": "time_series",
                "instant": false,
                "interval": "10s",
                "intervalFactor": 2,
                "legendFormat": "5m",
                "refId": "B",
                "step": 20
              },
              {
                "expr": "node_load15{instance=~\"$node\"}",
                "format": "time_series",
                "instant": false,
                "interval": "10s",
                "intervalFactor": 2,
                "legendFormat": "15m",
                "refId": "C",
                "step": 20
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "系统平均负载",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "/": "#eab839",
              "/boot": "#bf1b00",
              "/data": "#1f78c1"
            },
            "breakPoint": "100%",
            "cacheTimeout": null,
            "combine": {
              "label": "Others",
              "threshold": ""
            },
            "datasource": "Prometheus",
            "decimals": 1,
            "fontSize": "50%",
            "format": "bytes",
            "gridPos": {
              "h": 6,
              "w": 5,
              "x": 11,
              "y": 14
            },
            "hideTimeOverride": false,
            "id": 171,
            "interval": null,
            "legend": {
              "header": "",
              "percentage": false,
              "percentageDecimals": 0,
              "show": true,
              "sideWidth": 142,
              "values": true
            },
            "legendType": "Right side",
            "links": [],
            "maxDataPoints": 3,
            "nullPointMode": "connected",
            "pieType": "pie",
            "strokeWidth": "2",
            "targets": [
              {
                "expr": "max(node_filesystem_size_bytes {instance=~\"$node\",fstype=~\"ext4|xfs\"}) by (device)",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "{{device}}",
                "refId": "A"
              }
            ],
            "title": "磁盘总空间",
            "type": "grafana-piechart-panel",
            "valueName": "current"
          },
          {
            "columns": [],
            "datasource": "Prometheus",
            "fontSize": "120%",
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 16,
              "y": 14
            },
            "id": 164,
            "links": [],
            "pageSize": null,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 11,
              "desc": true
            },
            "styles": [
              {
                "alias": "Time",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "pattern": "Time",
                "type": "hidden"
              },
              {
                "alias": "分区",
                "colorMode": null,
                "colors": [
                  "rgba(50, 172, 45, 0.97)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(245, 54, 54, 0.9)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "device",
                "thresholds": [
                  ""
                ],
                "type": "string",
                "unit": "bytes"
              },
              {
                "alias": "可用空间",
                "colorMode": "value",
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value #A",
                "thresholds": [
                  "10000000000",
                  "20000000000"
                ],
                "type": "number",
                "unit": "bytes"
              },
              {
                "alias": "使用率",
                "colorMode": "cell",
                "colors": [
                  "rgba(50, 172, 45, 0.97)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(245, 54, 54, 0.9)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value #B",
                "thresholds": [
                  "70",
                  "90"
                ],
                "type": "number",
                "unit": "percentunit"
              },
              {
                "alias": "总空间",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 1,
                "link": false,
                "mappingType": 1,
                "pattern": "Value #C",
                "thresholds": [],
                "type": "number",
                "unit": "bytes"
              },
              {
                "alias": "文件系统",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "link": false,
                "mappingType": 1,
                "pattern": "fstype",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              },
              {
                "alias": "",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              },
              {
                "alias": "",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "decimals": 2,
                "pattern": "/.*/",
                "preserveFormat": true,
                "sanitize": false,
                "thresholds": [],
                "type": "hidden",
                "unit": "short"
              }
            ],
            "targets": [
              {
                "expr": "max(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext4|xfs\"}) by (device)",
                "format": "table",
                "hide": true,
                "instant": true,
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "C"
              },
              {
                "expr": "max(node_filesystem_avail_bytes {instance=~'$node',fstype=~\"ext4|xfs\"}) by (device)",
                "format": "table",
                "hide": false,
                "instant": true,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              },
              {
                "expr": "1-(max(node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext4|xfs\"}) by (device)  / max(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext4|xfs\"}) by (device))",
                "format": "table",
                "hide": false,
                "instant": true,
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "B"
              },
              {
                "expr": "1-(node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext4|xfs\"} / node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext4|xfs\"})",
                "format": "table",
                "hide": true,
                "intervalFactor": 1,
                "refId": "D"
              },
              {
                "expr": "max(node_filesystem_free_bytes{instance=~'master-1.k8s.org'}) by (fstype)",
                "format": "table",
                "instant": true,
                "intervalFactor": 1,
                "refId": "E"
              }
            ],
            "title": "各分区可用空间",
            "transform": "table",
            "transparent": false,
            "type": "table"
          },
          {
            "aliasColors": {
              "Idle - Waiting for something to happen": "#052B51",
              "guest": "#9AC48A",
              "idle": "#052B51",
              "iowait": "#EAB839",
              "irq": "#BF1B00",
              "nice": "#C15C17",
              "sdb_每秒I/O操作%": "#d683ce",
              "softirq": "#E24D42",
              "steal": "#FCE2DE",
              "system": "#508642",
              "user": "#5195CE",
              "磁盘花费在I/O操作占比": "#ba43a9"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "description": "node_disk_io_time_seconds_total：\n磁盘花费在输入/输出操作上的毫秒数。该值为累加值。（Milliseconds Spent Doing I/Os）\n\nirate(node_disk_io_time_seconds_total[1m])：\n计算每秒的速率：(last值-last前一个值)/时间戳差值，即：1秒钟内磁盘花费在I/O操作的时间占比。",
            "fill": 1,
            "gridPos": {
              "h": 7,
              "w": 16,
              "x": 0,
              "y": 20
            },
            "id": 7,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": null,
              "sort": null,
              "sortDesc": null,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "minSpan": 4,
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "avg(irate(node_cpu_seconds_total{instance=~\"$node\",mode=\"system\"}[1m]))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "System",
                "refId": "A",
                "step": 20
              },
              {
                "expr": "avg(irate(node_cpu_seconds_total{instance=~\"$node\",mode=\"user\"}[1m]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "User",
                "refId": "B",
                "step": 240
              },
              {
                "expr": "avg(irate(node_cpu_seconds_total{instance=~\"$node\",mode=\"idle\"}[1m]))",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "Idle",
                "refId": "F",
                "step": 240
              },
              {
                "expr": "avg(irate(node_cpu_seconds_total{instance=~\"$node\",mode=\"iowait\"}[1m]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Iowait",
                "refId": "D",
                "step": 240
              },
              {
                "expr": "irate(node_disk_io_time_seconds_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{device}}_每秒I/O操作%",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU使用率、磁盘每秒的I/O操作耗费时间（%）",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "percentunit",
                "label": "",
                "logBase": 1,
                "max": "1",
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "内存_Avaliable": "#6ED0E0",
              "内存_Cached": "#EF843C",
              "内存_Free": "#629E51",
              "内存_Total": "#6d1f62",
              "内存_Used": "#eab839"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "fill": 1,
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 20
            },
            "height": "300",
            "id": 156,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "总内存",
                "refId": "A",
                "step": 4
              },
              {
                "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"} - (node_memory_Cached_bytes{instance=~\"$node\"} + node_memory_Buffers_bytes{instance=~\"$node\"} + node_memory_MemFree_bytes{instance=~\"$node\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "已用",
                "refId": "B",
                "step": 4
              },
              {
                "expr": "node_memory_MemFree_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 2,
                "legendFormat": "内存_Free",
                "refId": "C",
                "step": 4
              },
              {
                "expr": "node_memory_Buffers_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 2,
                "legendFormat": "内存_Buffers",
                "refId": "D",
                "step": 4
              },
              {
                "expr": "node_memory_Cached_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 2,
                "legendFormat": "内存_Cached",
                "refId": "E",
                "step": 4
              },
              {
                "expr": "node_memory_MemAvailable_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "可用",
                "refId": "F",
                "step": 4
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "内存信息",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": "0",
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "vda_write": "#6ED0E0"
            },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "description": "Reads completed: 每个磁盘分区每秒读完成次数\n\nWrites completed: 每个磁盘分区每秒写完成次数\n\nIO now 每个磁盘分区每秒正在处理的输入/输出请求数",
            "fill": 2,
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 0,
              "y": 27
            },
            "height": "300",
            "id": 161,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": false,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/.*_读取$/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_reads_completed_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_读取",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "irate(node_disk_writes_completed_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "{{device}}_写入",
                "refId": "B",
                "step": 10
              },
              {
                "expr": "node_disk_io_now{instance=~\"$node\"}",
                "format": "time_series",
                "hide": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{device}}",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "磁盘读写速率（IOPS）",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "iops",
                "label": "读取（-）/写入（+）I/O ops/sec",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "vda_write": "#6ED0E0"
            },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "description": "Read bytes 每个磁盘分区每秒读取的比特数\nWritten bytes 每个磁盘分区每秒写入的比特数",
            "fill": 2,
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 8,
              "y": 27
            },
            "height": "300",
            "id": 168,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": false,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/.*_读取$/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_read_bytes_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_读取",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "irate(node_disk_written_bytes_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "{{device}}_写入",
                "refId": "B",
                "step": 10
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "磁盘读写容量大小",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "Bps",
                "label": "读取（-）/写入（+）",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "vda": "#6ED0E0"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "description": "Read time ms 每个磁盘分区读操作花费的秒数\n\nWrite time ms 每个磁盘分区写操作花费的秒数\n\nIO time ms 每个磁盘分区输入/输出操作花费的秒数\n\nIO time weighted 每个磁盘分区输入/输出操作花费的加权秒数",
            "fill": 3,
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 16,
              "y": 27
            },
            "height": "300",
            "id": 160,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/,*_读取$/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_io_time_seconds_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "irate(node_disk_io_time_weighted_seconds_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{device}}_加权",
                "refId": "D"
              },
              {
                "expr": "irate(node_disk_read_time_seconds_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{device}}_读取",
                "refId": "B"
              },
              {
                "expr": "irate(node_disk_write_time_seconds_total{instance=~\"$node\"}[1m])",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{device}}_写入",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "磁盘IO读写时间",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": "读取（-）/写入（+）",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "fill": 1,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 35
            },
            "height": "300",
            "id": 157,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/.*_out上传$/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_network_receive_bytes_total{instance=~'$node',device!~'tap.*'}[5m])*8",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_in下载",
                "refId": "A",
                "step": 4
              },
              {
                "expr": "irate(node_network_transmit_bytes_total{instance=~'$node',device!~'tap.*'}[5m])*8",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_out上传",
                "refId": "B",
                "step": 4
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "网络流量",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bps",
                "label": "上传（-）/下载（+）",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "TCP": "#6ED0E0"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "description": "CurrEstab - 当前状态为 ESTABLISHED 或 CLOSE-WAIT 的 TCP 连接数\n\nActiveOpens - 已从 CLOSED 状态直接转换到 SYN-SENT 状态的 TCP 平均连接数(1分钟内)\n\nPassiveOpens - 已从 LISTEN 状态直接转换到 SYN-RCVD 状态的 TCP 平均连接数(1分钟内)\n\nTCP_alloc - 已分配（已建立、已申请到sk_buff）的TCP套接字数量\n\nTCP_inuse - 正在使用（正在侦听）的TCP套接字数量\n\nTCP_tw - 等待关闭的TCP连接数",
            "fill": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 35
            },
            "height": "300",
            "id": 158,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_netstat_Tcp_CurrEstab{instance=~'$node'}",
                "format": "time_series",
                "hide": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "ESTABLISHED",
                "refId": "A",
                "step": 20
              },
              {
                "expr": "node_sockstat_TCP_tw{instance=~'$node'}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "TCP_tw",
                "refId": "D"
              },
              {
                "expr": "irate(node_netstat_Tcp_ActiveOpens{instance=~'$node'}[1m])",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "ActiveOpens",
                "refId": "B"
              },
              {
                "expr": "irate(node_netstat_Tcp_PassiveOpens{instance=~'$node'}[1m])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "PassiveOpens",
                "refId": "C"
              },
              {
                "expr": "node_sockstat_TCP_alloc{instance=~'$node'}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "TCP_alloc",
                "refId": "E"
              },
              {
                "expr": "node_sockstat_TCP_inuse{instance=~'$node'}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "TCP_inuse",
                "refId": "F"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "TCP 连接情况",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": false,
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "主机状态监控"
        ],
        "templating": {
          "list": [
            {
              "auto": true,
              "auto_count": 30,
              "auto_min": "10s",
              "current": {
                "text": "1m",
                "value": "1m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "1m",
                  "value": "1m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                },
                {
                  "selected": false,
                  "text": "1d",
                  "value": "1d"
                },
                {
                  "selected": false,
                  "text": "7d",
                  "value": "7d"
                },
                {
                  "selected": false,
                  "text": "14d",
                  "value": "14d"
                },
                {
                  "selected": false,
                  "text": "30d",
                  "value": "30d"
                }
              ],
              "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "allFormat": "glob",
              "allValue": null,
              "current": {
                "text": "0.16.0",
                "value": "0.16.0"
              },
              "datasource": "Prometheus",
              "definition": "label_values(node_exporter_build_info,version)",
              "hide": 0,
              "includeAll": false,
              "label": "version",
              "multi": false,
              "multiFormat": "regex values",
              "name": "version",
              "options": [],
              "query": "label_values(node_exporter_build_info,version)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allFormat": "glob",
              "allValue": null,
              "current": {
                "text": "master-0.k8s.org",
                "value": "master-0.k8s.org"
              },
              "datasource": "Prometheus",
              "definition": "label_values(node_exporter_build_info{version='$version'},instance)",
              "hide": 0,
              "includeAll": false,
              "label": "主机",
              "multi": false,
              "multiFormat": "regex values",
              "name": "node",
              "options": [],
              "query": "label_values(node_exporter_build_info{version='$version'},instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": null,
              "current": {
                "text": "/etc/hostname",
                "value": "/etc/hostname"
              },
              "datasource": "Prometheus",
              "definition": "",
              "hide": 2,
              "includeAll": false,
              "label": "",
              "multi": false,
              "name": "maxmount",
              "options": [],
              "query": "query_result(topk(1,sort_desc (max(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext4|xfs\"}) by (mountpoint))))",
              "refresh": 1,
              "regex": "/.*\\\"(.*)\\\".*/",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-5m",
          "to": "now"
        },
        "timepicker": {
          "now": true,
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "k8s-☸-pgmon/node-exporter-describe",
        "uid": "9CWBz0bik",
        "version": 1
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-node-exporter-describe
    namespace: pgmon
- apiVersion: v1
  data:
    k8s-pgmon-node-exporter-docker.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Docker Monitoring Template",
        "editable": true,
        "gnetId": 179,
        "graphTooltip": 1,
        "id": 10,
        "iteration": 1547643858698,
        "links": [],
        "panels": [
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorPrefix": true,
            "colorValue": true,
            "colors": [
              "#299c46",
              "#bf1b00",
              "#badff4"
            ],
            "datasource": "Prometheus",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 0,
              "y": 0
            },
            "id": 13,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(container_last_seen{kubernetes_io_hostname=~\"$Node$\",image!=\"\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "当前主机运行的容器",
            "transparent": false,
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 6,
              "w": 5,
              "x": 12,
              "y": 0
            },
            "id": 6,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\",kubernetes_io_hostname=\"$Hostname\",image!=\"\"}[1m] )) * 100",
                "format": "time_series",
                "hide": true,
                "interval": "10s",
                "intervalFactor": 1,
                "refId": "A",
                "step": 10
              },
              {
                "expr": "sum(rate(container_cpu_usage_seconds_total{image!=\"\",kubernetes_io_hostname=~\"$Node\"}[1m] )) / (count(node_cpu_seconds_total{mode=\"system\",kubernetes_io_hostname=~\"$Node\"})) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": "65, 90",
            "title": "当前主机上的容器使用CPU比例",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 1,
            "grid": {},
            "gridPos": {
              "h": 8,
              "w": 16,
              "x": 0,
              "y": 6
            },
            "id": 9,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 450,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum (rate (container_network_receive_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Received",
                "metric": "container_network_transmit_bytes_total",
                "refId": "B",
                "step": 4
              },
              {
                "expr": "- sum (rate (container_network_transmit_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Sent",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Container Network Output",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 3,
            "editable": true,
            "error": false,
            "fill": 0,
            "grid": {},
            "gridPos": {
              "h": 8,
              "w": 16,
              "x": 0,
              "y": 14
            },
            "id": 3,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 450,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (container_name, pod_name)",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "pod: {{ pod_name }} | {{ container_name }}",
                "metric": "container_cpu_user_seconds_total",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (kubernetes_io_hostname, name, image)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                "refId": "B"
              },
              {
                "expr": "sum (rate (container_cpu_usage_seconds_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (kubernetes_io_hostname, rkt_container_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Container CPU usage",
            "tooltip": {
              "msResolution": true,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percentunit",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "Prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fill": 0,
            "grid": {},
            "gridPos": {
              "h": 8,
              "w": 16,
              "x": 0,
              "y": 22
            },
            "id": 2,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 450,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\"}) by (container_name, pod_name)",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "pod: {{ pod_name }} | {{ container_name }}",
                "metric": "container_memory_usage:sort_desc",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "sum (container_memory_working_set_bytes{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}) by (kubernetes_io_hostname, name, image)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                "refId": "B"
              },
              {
                "expr": "sum (container_memory_working_set_bytes{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}) by (kubernetes_io_hostname, rkt_container_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Container Memory Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 9,
              "w": 15,
              "x": 0,
              "y": 30
            },
            "id": 19,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (container_name, pod_name)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "-> pod: {{ pod_name }} | {{ container_name }}",
                "refId": "A"
              },
              {
                "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (container_name, pod_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "<- pod: {{ pod_name }} | {{ container_name }}",
                "refId": "B"
              },
              {
                "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (kubernetes_io_hostname, name, image)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "-> docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                "refId": "C"
              },
              {
                "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (kubernetes_io_hostname, name, image)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "<- docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                "refId": "D"
              },
              {
                "expr": "sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (kubernetes_io_hostname, rkt_container_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "-> rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                "refId": "E"
              },
              {
                "expr": "- sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[$interval])) by (kubernetes_io_hostname, rkt_container_name)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "<- rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                "refId": "F"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "容器网络 i/o",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 8,
              "w": 16,
              "x": 0,
              "y": 39
            },
            "id": 15,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 550,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_fs_reads_bytes_total{image!=\"\"}[1m])) without (device)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name }} {{ container_name }} ",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "容器文件系统读取速率（单位：字节/秒）",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 9,
              "w": 16,
              "x": 0,
              "y": 47
            },
            "id": 17,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 550,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_fs_writes_bytes_total{image!=\"\"}[1m])) without (device)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{ pod_name }} {{ container_name }} ",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "容器文件系统写入速率（单位：字节/秒）",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": false,
        "schemaVersion": 16,
        "style": "dark",
        "tags": [
          "主机上的容器监控"
        ],
        "templating": {
          "list": [
            {
              "auto": true,
              "auto_count": 30,
              "auto_min": "10s",
              "current": {
                "text": "10m",
                "value": "10m"
              },
              "hide": 0,
              "label": null,
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": false,
                  "text": "1m",
                  "value": "1m"
                },
                {
                  "selected": true,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                },
                {
                  "selected": false,
                  "text": "1d",
                  "value": "1d"
                },
                {
                  "selected": false,
                  "text": "7d",
                  "value": "7d"
                },
                {
                  "selected": false,
                  "text": "14d",
                  "value": "14d"
                },
                {
                  "selected": false,
                  "text": "30d",
                  "value": "30d"
                }
              ],
              "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "text": "Prometheus",
                "value": "Prometheus"
              },
              "hide": 2,
              "label": null,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": null,
              "current": {
                "tags": [],
                "text": "All",
                "value": "$__all"
              },
              "datasource": "$datasource",
              "definition": "label_values(kubernetes_io_hostname)",
              "hide": 0,
              "includeAll": true,
              "label": "Node",
              "multi": false,
              "name": "Node",
              "options": [],
              "query": "label_values(kubernetes_io_hostname)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-5m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "k8s-☸-pgmon/node-exporter-docker",
        "uid": "ehXosePmk",
        "version": 2
      }
  kind: ConfigMap
  metadata:
    name: k8s-pgmon-node-exporter-docker
    namespace: pgmon
kind: ConfigMapList
